import tweepy
import json
from time import sleep
import geopandas
import geopy
import sys
import os
from shapely import geometry

melbourne_suburbs = ['Abbotsford', 'Aberfeldie', 'Airport West', 'Albanvale', 'Albert Park', 'Albion', 'Alphington', 'Altona Meadows', 'Altona North', 'Altona', 'Ardeer', 'Armadale', 'Arthurs Seat', 'Ascot Vale', 'Ashburton', 'Ashwood', 'Aspendale', 'Aspendale Gardens', 'Attwood', 'Auburn', 'Aurora', 'Avondale Heights', 'Avonsleigh', 'Balaclava', 'Balwyn', 'Balwyn North', 'Bangholme', 'Baxter', 'Bayswater', 'Bayswater North', 'Beaconsfield', 'Beaumaris', 'Belgrave', 'Belgrave Heights', 'Belgrave South', 'Bellfield', 'Bennettswood', 'Bentleigh', 'Bentleigh East', 'Berwick', 'Bittern', 'Black Rock', 'Blackburn', 'Blackburn North', 'Blackburn South', 'Blairgowrie', 'Bonbeach', 'Boronia', 'Box Hill', 'Box Hill North', 'Box Hill South', 'Braeside', 'Braybrook', 'Briar Hill', 'Brighton', 'Brighton East', 'Broadmeadows', 'Brookfield', 'Brooklyn', 'Brunswick', 'Brunswick East', 'Brunswick West', 'Bulla', 'Bulleen', 'Bundoora', 'Burnley', 'Burnside', 'Burnside Heights', 'Burwood', 'Burwood East', 'Cairnlea', 'Calder Park', 'Camberwell', 'Campbellfield', 'Canterbury', 'Carlton North', 'Carlton', 'Carnegie', 'Caroline Springs', 'Carrum', 'Carrum Downs', 'Caulfield', 'Caulfield East', 'Caulfield North', 'Caulfield South', 'Chadstone', 'Chelsea', 'Chelsea Heights', 'Cheltenham', 'Chirnside Park', 'Clarinda', 'Clayton', 'Clayton South', 'Clematis', 'Clifton Hill', 'Coburg', 'Coburg North', 'Cocoroc', 'Coldstream', 'Collingwood', 'Coolaroo', 'Craigieburn', 'Cranbourne', 'Cranbourne East', 'Cranbourne North', 'Cranbourne South', 'Cranbourne West', 'Cremorne', 'Crib Point', 'Croydon', 'Croydon Hills', 'Croydon North', 'Croydon South', 'Dallas', 'Dandenong', 'Dandenong North', 'Dandenong South', 'Deer Park', 'Delahey', 'Derrimut', 'Diamond Creek', 'Dingley Village', 'Docklands', 'Doncaster', 'Doncaster East', 'Donvale', 'Doreen', 'Doveton', 'Dromana', 'Eaglemont', 'East Melbourne', 'Edithvale', 'Elsternwick', 'Eltham', 'Eltham North', 'Elwood', 'Emerald', 'Endeavour Hills', 'Epping', 'Essendon Fields', 'Essendon North', 'Essendon West', 'Essendon', 'Eumemmerring', 'Fairfield', 'Fawkner', 'Ferntree Gully', 'Ferny Creek', 'Fitzroy', 'Fitzroy North', 'Flemington', 'Footscray', 'Forest Hill', 'Frankston', 'Frankston North', 'Frankston South', 'Gardenvale', 'Gladstone Park', 'Glen Huntly', 'Glen Iris', 'Glen Waverley', 'Glenroy', 'Gowanbrae', 'Greensborough', 'Greenvale Lakes', 'Greenvale', 'Guys Hill', 'Hadfield', 'Hallam', 'Hampton', 'Hampton East', 'Hampton Park', 'Harkaway', 'Hawthorn', 'Hawthorn East', 'Heatherdale', 'Heatherton', 'Heathmont', 'Heidelberg', 'Heidelberg Heights', 'Heidelberg West', 'Highett', 'Hillside', 'Hoppers Crossing', 'Houston', 'Hughesdale', 'Huntingdale', 'Hurstbridge', 'Ivanhoe', 'Ivanhoe East', 'Jacana', 'Junction Village', 'Kallista', 'Kalorama', 'Karingal', 'Kealba', 'Keilor', 'Keilor Downs', 'Keilor East', 'Keilor Lodge', 'Keilor North', 'Keilor Park', 'Kensington', 'Kerrimuir', 'Kew', 'Kew East', 'Keysborough', 'Kilsyth', 'Kilsyth South', 'Kings Park', 'Kingsbury', 'Kingsville', 'Knoxfield', 'Kooyong', 'Kurunjang', 'Laburnum', 'Lalor', 'Langwarrin', 'Langwarrin South', 'Laverton', 'Laverton North', 'Lilydale', 'Lower Plenty', 'Lynbrook', 'Lyndhurst', 'Lysterfield', 'Lysterfield South', 'Macclesfield', 'McCrae', 'McKinnon', 'Macleod', 'Maidstone', 'Malvern', 'Malvern East', 'Maribyrnong', 'Meadow Heights', 'Melbourne Airport', 'Melton (suburb)', 'Melton South', 'Melton West', 'Mentone', 'Menzies Creek', 'Mernda', 'Mickleham', 'Middle Park', 'Milgate Park Estate', 'Mill Park', 'Mitcham', 'Monbulk', 'Mont Albert', 'Mont Albert North', 'Montmorency', 'Montrose', 'Moonee Ponds', 'Moorabbin Airport', 'Moorabbin', 'Moorooduc', 'Mooroolbark', 'Mordialloc', 'Mornington', 'Mount Dandenong', 'Mount Eliza', 'Mount Evelyn', 'Mount Martha', 'Mount Waverley', 'Mulgrave', 'Narre Warren East', 'Narre Warren North', 'Narre Warren South', 'Narre Warren', 'Newport', 'Niddrie', 'Noble Park', 'Noble Park North', 'North Melbourne', 'North Richmond', 'North Warrandyte', 'Northcote', 'Norwood', 'Notting Hill', 'Nunawading', 'Oak Park', 'Oaklands Junction', 'Oakleigh', 'Oakleigh East', 'Oakleigh South', 'Olinda', 'Olivers Hill', 'Ormond', 'Pakenham', 'Panton Hill', 'Park Orchards', 'Parkdale', 'Parkville', 'Pascoe Vale South', 'Pascoe Vale', 'The Patch', 'Patterson Lakes', 'Pennydale', 'Plenty', 'Point Cook', 'Port Melbourne', 'Portsea', 'Prahran', 'Preston', 'Princes Hill', 'Ravenhall', 'Research', 'Reservoir', 'Richmond', 'Ringwood', 'Ringwood East', 'Ringwood North', 'Ripponlea', 'Rockbank', 'Rosanna', 'Rosebud', 'Rosebud West', 'Rowville', 'Roxburgh Park', 'Rye', 'Safety Beach', 'St Albans', 'St Helena', 'St Kilda', 'St Kilda East', 'St Kilda West', 'Sandhurst', 'Sandringham', 'Sassafras', 'Scoresby', 'Seabrook', 'Seaford', 'Seaholme', 'Seddon', 'Selby', 'Seville', 'Sherbrooke', 'Skye', 'Somerton', 'Sorrento', 'South Kingsville', 'South Melbourne', 'South Morang', 'South Wharf', 'South Yarra', 'Southbank', 'Spotswood', 'Springvale', 'Springvale South', 'Strathmore', 'Strathmore Heights', 'Sunbury', 'Sunshine', 'Sunshine North', 'Sunshine West', 'Surrey Hills', 'Sydenham', 'Syndal', 'Tally Ho', 'Tarneit', 'Taylors Hill', 'Taylors Lakes', 'Tecoma', 'Templestowe', 'Templestowe Lower', 'The Basin', 'Thomastown', 'Thornbury', 'Toorak', 'Tootgarook', 'Tottenham', 'Travancore', 'Tremont', 'Truganina', 'Tullamarine', 'Upfield', 'Upper Ferntree Gully', 'Upwey', 'Vermont', 'Vermont South', 'Viewbank', 'Wantirna', 'Wantirna South', 'Warrandyte', 'Warrandyte South', 'Warranwood', 'Waterways', 'Watsonia', 'Watsonia North', 'Wattle Glen', 'Waverley Park', 'Werribee', 'Werribee South', 'West Footscray', 'West Melbourne', 'Westgarth', 'Westmeadows', 'Wheelers Hill', 'Wildwood', 'Williams Landing', 'Williamstown', 'Williamstown North', 'Windsor', 'Wonga Park', 'Wyndham Vale', 'Yallambie', 'Yarrambat', 'Yarraville', 'Yuroke']
#melb_suburbs length: 410

brisbane_suburbs = ['Acacia Ridge', 'Albany Creek', 'Albion', 'Alderley', 'Alexandra Hills', 'Algester', 'Allingham', 'Amberley', 'Amity', 'Amity Point', 'Annerley', 'Anstead', 'Aquatic Paradise', 'Arana Hills', 'Archerfield', 'Armstrong Creek', 'Ascot', 'Ashgrove', 'Aspley', 'Auchenflower', 'Augustine Heights', 'Bald Hills', 'Balmoral', 'Banksia Beach', 'Banyo', 'Bardon', 'Barellan Point', 'Basin Pocket', 'Beachmere', 'Bellara', 'Bellbird Park', 'Bellbowrie', 'Bellmere', 'Bellthorpe', 'Belmont', 'Berrinba', 'Birkdale', 'Blacksoil', 'Blackstone', 'Bongaree', 'Boondall', 'Booval', 'Boronia Heights', 'Bowen Hills', 'Bracalba', 'Bracken Ridge', 'Brassall', 'Bray Park', 'Brendale', 'Bridgeman Downs', 'Brighton', 'Brisbane (CBD)', 'Brisbane Airport', 'Brookfield', 'Brookwater', 'Browns Plains', 'Buccan', 'Bulimba', 'Bulwer', 'Bundamba', 'Bunya', 'Buranda', 'Burbank', 'Burpengary', 'Burpengary East', 'Caboolture', 'Caboolture South', 'Calamvale', 'Calvert', 'Camira', 'Camp Hill', 'Camp Mountain', 'Campbells Pocket', 'Cannon Hill', 'Capalaba', 'Capalaba West', 'Carbrook', 'Carina', 'Carina Heights', 'Carindale', 'Carole Park', 'Carseldine', 'Cashmere', 'Cedar Creek', 'Cedar Creek', 'Cedar Grove', 'Cedar Vale', 'Cedarton', 'Chambers Flat', 'Chandler', 'Chapel Hill', 'Charters Towers City', 'Chelmer', 'Chermside', 'Chermside West', 'Churchill', 'Chuwar', 'Clayfield', 'Clear Mountain', 'Cleveland', 'Clontarf', 'Clontarf Beach', 'Closeburn', 'Coalfalls', 'Collingwood Park', 'Commissioners Flat', 'Coochiemudlo Island', 'Coopers Plains', 'Coorparoo', 'Corinda', 'Cornubia', 'Cosgrove', 'Cowan Cowan', 'Crestmead', "D'aguilar", 'Daisy Hill', 'Dakabin', 'Darra', 'Dayboro', 'Deagon', 'Deception Bay', 'Deebing Heights', 'Delaneys Creek', 'Dinmore', 'Donnybrook', 'Doolandella', 'Draper', 'Drewvale', 'Dunwich', 'Durack', 'Dutton Park', 'Eagle Farm', 'East Brisbane', 'East Ipswich', 'Eastern Heights', 'Eatons Hill', 'Ebbw Vale', 'Ebenezer', 'Ecco Ripley', 'Eight Mile Plains', 'Elimbah', 'Ellen Grove', 'England Creek', 'Enoggera', 'Enoggera Reservoir', 'Everton Hills', 'Everton Park', 'Fairfield', 'Ferny Grove', 'Ferny Hills', 'Fig Tree Pocket', 'Fitzgibbon', 'Flinders View', 'Forest Lake', 'Forestdale', 'Foritude Valley', 'Fortitude Valley', 'Gailes', 'Gaythorne', 'Geebung', 'Godwin Beach', 'Goodna', 'Gordon Park', 'Graceville', 'Grandchester', 'Grange', 'Greenbank', 'Greenslopes', 'Griffin', 'Gumdale', 'Haigslea', 'Hamilton', 'Harrisville', 'Hawthorne', 'Heathwood', 'Hemmant', 'Hendra', 'Heritage Park', 'Herston', 'Highgate Hill', 'Highvale', 'Hillcrest', 'Holland Park', 'Holland Park West', 'Inala', 'Indooroopilly', 'Ipswich', 'Ironbark', 'Jamboree Heights', 'Jimboomba', 'Jindalee', 'Jollys Lookout', 'Joyner', 'Kallangur', 'Kangaroo Point', 'Karalee', 'Karana Downs', 'Karawatha', 'Karrabin', 'Karragarra Island', 'Kedron', 'Kelvin Grove', 'Kenmore', 'Kenmore Hills', 'Keperra', 'Kholo', 'King Scrub', 'Kingston', 'Kippa-ring', 'Kobble Creek', 'Kooringal', 'Kuraby', 'Kurwongbah', 'Laceys Creek', 'Lake Manchester', 'Lamb Island', 'Lanefield', 'Larapinta', 'Lawnton', 'Leichhardt', 'Loamside', 'Logan Central', 'Logan Reserve', 'Logan Village', 'Loganholme', 'Loganlea', 'Lota', 'Lower Mount Walker', 'Lutwyche', 'Lytton', 'Macgregor', 'Mackenzie', 'Macleay Island', 'Mango Hill', 'Manly', 'Manly West', 'Mansfield', 'Marburg', 'Margate', 'Marsden', 'McDowall', 'Meadowbrook', 'Meldale', 'Middle Park', 'Milton', 'Mitchelton', 'Moggill', 'Moodlu', 'Moores Pocket', 'Moorina', 'Moorooka', 'Morayfield', 'Moreton Bay', 'Moreton Island', 'Morningside', 'Mount Coot-tha', 'Mount Cotton', 'Mount Crosby', 'Mount Forbes', 'Mount Glorious', 'Mount Gravatt', 'Mount Gravatt East', 'Mount Mee', 'Mount Nebo', 'Mount Ommaney', 'Mount Pleasant', 'Mount Samson', 'Muirlea', 'Mundoolun', 'Munruben', 'Murarrie', 'Murrumba Downs', 'Mutdapilly', 'Narangba', 'Nathan', 'Neurum', 'New Beith', 'New Chum', 'New Farm', 'Newmarket', 'Newport', 'Newstead', 'Newtown', 'Ningi', 'Norman Park', 'North Booval', 'North Ipswich', 'North Lakes', 'North Maclean', 'North Stradbroke Island', 'North Tivoli', 'Northgate', 'Nudgee', 'Nudgee Beach', 'Nundah', 'Ocean View', 'One Mile', 'Ormiston', 'Oxley', 'Paddington', 'Pallara', 'Park Ridge', 'Park Ridge South', 'Parkinson', 'Peak Crossing', 'Perulpa Island', 'Petrie', 'Petrie Qld', 'Petrie Terrace', 'Pine Mountain', 'Pinjarra Hills', 'Pinkenba', 'Point Lookout', 'Priestdale', 'Pullenvale', 'Purga', 'Raby Bay', 'Raceview', 'Ransome', 'Red Hill', 'Redbank', 'Redbank Plains', 'Redcliffe', 'Redland Bay', 'Regents Park', 'Richlands', 'Ripley', 'Ripley Valley', 'Riverhills', 'Riverview', 'Robertson', 'Rochedale', 'Rochedale South', 'Rocklea', 'Rocksberg', 'Rosewood', 'Rothwell', 'Runcorn', 'Rush Creek', 'Russell Island', 'Sadliers Crossing', 'Salisbury', 'Samford Valley', 'Samford Village', 'Samsonvale', 'Sandgate', 'Sandstone Point', 'Scarborough', 'Seven Hills', 'Seventeen Mile Rocks', 'Shailer Park', 'Sheldon', 'Sherwood', 'Shorncliffe', 'Silkstone', 'Sinnamon Park', 'Slacks Creek', 'South Brisbane', 'South Maclean', 'South Ripley', 'Spring Hill', 'Spring Mountain', 'Springfield', 'Springfield Lakes', 'Springwood', 'St Helena Island', 'St Lucia', 'Stafford', 'Stafford Heights', 'Stanmore', 'Stockleigh', 'Stones Corner', 'Stony Creek', 'Strathpine', 'Stretton', 'Sumner', 'Sunnybank', 'Sunnybank Hills', 'Swanbank', 'Taigum', 'Tallegalla', 'Tamborine', 'Tamborine Village', 'Tanah Merah', 'Tangalooma', 'Taringa', 'Tarragindi', 'Teneriffe', 'Tennyson', 'Thagoona', 'The Gap', 'Thorneside', 'Thornlands', 'Timberlands', 'Tingalpa', 'Tivoli', 'Toombul', 'Toorbul', 'Toowong', 'Unclassified Qld', 'Underwood', 'Upper Brookfield', 'Upper Caboolture', 'Upper Kedron', 'Upper Mount Gravatt', 'Victoria Point', 'Virginia', 'Wacol', 'Wakerley', 'Walloon', 'Wamuran', 'Wamuran Basin', 'Warner', 'Waterford West', 'Wavell Heights', 'Wellers Hill', 'Wellington Point', 'West End', 'West Ipswich', 'Westlake', 'White Patch', 'Whiteside', 'Wights Mountain', 'Willawong', 'Willowbank', 'Wilston', 'Windsor', 'Wishart', 'Woodend', 'Woodford', 'Woodhill', 'Woodridge', 'Woody Point', 'Woolloongabba', 'Wooloowin', 'Woolshed', 'Woorim', 'Wulkuraka', 'Wynnum', 'Wynnum West', 'Yamanto', 'Yarrabilba', 'Yeerongpilly', 'Yeronga', 'Yugar', 'Zillmere']
#brisbane_suburbs length: 446

sydney_suburbs = ['Abbotsbury', 'Abbotsford', 'Acacia Gardens', 'Agnes Banks', 'Airds', 'Alexandria', 'Alfords Point', 'Alison', 'Allambie', 'Allambie Heights', 'Allawah', 'Ambarvale', 'Annandale', 'Annangrove', 'Appin', 'Arcadia', 'Arncliffe', 'Arndell Park', 'Artarmon', 'Ashbury', 'Ashcroft', 'Ashfield', 'Asquith', 'Auburn', 'Austral', 'Avalon', 'Avalon Beach', 'Avoca Beach', 'Badgerys Creek', 'Balgowlah', 'Balgowlah Heights', 'Balmain', 'Balmain East', 'Bangor', 'Banksia', 'Banksmeadow', 'Bankstown', 'Bar Point', 'Barangaroo', 'Barden Ridge', 'Bardia', 'Bardwell Park', 'Bardwell Valley', 'Bargo', 'Bass Hill', 'Bateau Bay', 'Baulkham Hills', 'Bayview', 'Beacon Hill', 'Beaconsfield', 'Beaumont Hills', 'Beecroft', 'Belfield', 'Belimbla Park', 'Bell', 'Bella Vista', 'Bella Vista Waters', 'Bellevue Hill', 'Belmore', 'Belrose', 'Bensville', 'Berala', 'Berambing', 'Berkeley Vale', 'Berkshire Park', 'Berowra', 'Berowra Creek', 'Berowra Heights', 'Berowra Waters', 'Berrilee', 'Beverley Park', 'Beverly Hills', 'Bexley', 'Bexley North', 'Bidwill', 'Bilgola', 'Bilgola Beach', 'Bilgola Plateau', 'Bilpin', 'Birchgrove', 'Birrong', 'Blackett', 'Blackheath', 'Blacktown', 'Blacktown Westpoint', 'Blackwall', 'Blair Athol', 'Blairmount', 'Blakehurst', 'Blaxland', 'Blaxlands Ridge', 'Bligh Park', 'Blue Bay', 'Blue Haven', 'Blue Mountains National Park', 'Bondi', 'Bondi Beach', 'Bondi Junction', 'Bondi Junction Plaza', 'Bonnet Bay', 'Bonnyrigg', 'Bonnyrigg Heights', 'Booker Bay', 'Boronia Park', 'Bossley Park', 'Botany', 'Bow Bowing', 'Bowen Mountain', 'Box Hill', 'Bradbury', 'Breakfast Point', 'Brighton-le-sands', 'Bringelly', 'Bronte', 'Brooklyn', 'Brookvale', 'Brownlow Hill', 'Bucketty', 'Budgewoi', 'Buff Point', 'Bullaburra', 'Bundeena', 'Bungarribee', 'Burraneer', 'Burwood', 'Burwood Heights', 'Busby', 'Buxton', 'Cabarita', 'Cabramatta', 'Cabramatta West', 'Caddens', 'Calga', 'Cambridge Gardens', 'Cambridge Park', 'Camden', 'Camden Park', 'Camden South', 'Camellia', 'Cammeray', 'Campbelltown', 'Camperdown', 'Campsie', 'Canada Bay', 'Canley Heights', 'Canley Vale', 'Canoelands', 'Canterbury', 'Canton Beach', 'Caringbah', 'Caringbah South', 'Carlingford', 'Carlton', 'Carnes Hill', 'Carramar', 'Carss Park', 'Cartwright', 'Castle Cove', 'Castle Hill', 'Castlecrag', 'Castlereagh', 'Casula', 'Catherine Field', 'Cattai', 'Cawdor', 'Cecil Hills', 'Cecil Park', 'Cedar Brush Creek', 'Centennial Park', 'Central Mangrove', 'Chain Valley Bay', 'Charmhaven', 'Chatswood', 'Chatswood West', 'Cheltenham', 'Cherrybrook', 'Chester Hill', 'Chifley', 'Chippendale', 'Chipping Norton', 'Chiswick', 'Chittaway Bay', 'Chittaway Point', 'Chullora', 'Church Point', 'Claremont Meadows', 'Clareville', 'Claymore', 'Clemton Park', 'Clontarf', 'Clovelly', 'Clyde', 'Coasters Retreat', 'Cobbitty', 'Cogra Bay', 'Colebee', 'Collaroy', 'Collaroy Beach', 'Collaroy Plateau', 'Colo', 'Colo Heights', 'Colongra', 'Colyton', 'Como', 'Concord', 'Concord West', 'Condell Park', 'Connells Point', 'Constitution Hill', 'Coogee', 'Copacabana', 'Cornwallis', 'Cottage Point', 'Couridjah', 'Cowan', 'Cranebrook', 'Crangan Bay', 'Cremorne', 'Cremorne Point', 'Cromer', 'Cronulla', 'Crows Nest', 'Croydon', 'Croydon Park', 'Cumberland Reach', 'Curl Curl', 'Currans Hill', 'Daceyville', 'Daleys Point', 'Dangar Island', 'Darling Island', 'Darling Point', 'Darlinghurst', 'Darlington', 'Davidson', 'Davistown', 'Dawes Point', 'Dean Park', 'Dee Why', 'Dee Why Beach', 'Denham Court', 'Denistone', 'Denistone East', 'Denistone West', 'Dharruk', 'Dolans Bay', 'Dolls Point', 'Doonside', 'Dooralong', 'Double Bay', 'Douglas Park', 'Dover Heights', 'Doyalson', 'Doyalson North', 'Drummoyne', 'Duffys Forest', 'Dulwich Hill', 'Dundas', 'Dundas Valley', 'Dural', 'Durren Durren', 'Eagle Vale', 'Earlwood', 'East Gosford', 'East Hills', 'East Killara', 'East Kurrajong', 'East Lindfield', 'East Ryde', 'Eastern Creek', 'Eastgardens', 'Eastlakes', 'Eastwood', 'Ebenezer', 'Edensor Park', 'Edgecliff', 'Edmondson Park', 'Elanora Heights', 'Elderslie', 'Elizabeth Bay', 'Elizabeth Hills', 'Ellis Lane', 'Elvina Bay', 'Emerton', 'Empire Bay', 'Emu Heights', 'Emu Plains', 'Enfield', 'Engadine', 'Englorie Park', 'Enmore', 'Epping', 'Erina', 'Erina Heights', 'Ermington', 'Erskine Park', 'Erskineville', 'Eschol Park', 'Ettalong', 'Ettalong Beach', 'Eveleigh', 'Fairfield', 'Fairfield East', 'Fairfield Heights', 'Fairfield West', 'Fairlight', 'Faulconbridge', 'Five Dock', 'Flowerdale', 'Forest Glen', 'Forest Lodge', 'Forestville', 'Forresters Beach', 'Fountaindale', 'Freemans Reach', 'Frenchs Forest', 'Freshwater', 'Galston', 'Georges Hall', 'Gilead', 'Girraween', 'Gladesville', 'Glebe', 'Gledswood Hills', 'Glen Alpine', 'Glenbrook', 'Glendenning', 'Glenfield', 'Glenhaven', 'Glenmore', 'Glenmore Park', 'Glenning Valley', 'Glenorie', 'Glenwood', 'Glossodia', 'Gordon', 'Gore Hill', 'Gorokan', 'Gosford', 'Granville', 'Grasmere', 'Grays Point', 'Great Mackerel Beach', 'Green Point', 'Green Valley', 'Greenacre', 'Greendale', 'Greenfield Park', 'Greenhills Beach', 'Greenwich', 'Gregory Hills', 'Greystanes', 'Grose Vale', 'Grose Wold', 'Guildford', 'Guildford West', 'Gunderman', 'Gwandalan', 'Gymea', 'Gymea Bay', 'Haberfield', 'Halekulani', 'Halloran', 'Hamlyn Terrace', 'Hammondville', 'Harbord', 'Hardys Bay', 'Harrington Park', 'Harris Park', 'Hassall Grove', 'Hawkesbury Heights', 'Haymarket', 'Hazelbrook', 'Heathcote', 'Hebersham', 'Heckenberg', 'Henley', 'Hillsdale', 'Hinchinbrook', 'Hobartville', 'Holgate', 'Holroyd', 'Holsworthy', 'Homebush', 'Homebush Bay', 'Homebush West', 'Horningsea Park', 'Hornsby', 'Hornsby Heights', 'Horsfield Bay', 'Horsley Park', 'Hoxton Park', 'Hunters Hill', 'Huntington Heights', 'Huntingwood', 'Huntleys Cove', 'Huntleys Point', 'Hurlstone Park', 'Hurstville', 'Hurstville Grove', 'Illawong', 'Ingleburn', 'Ingleside', 'Jamisontown', 'Jannali', 'Jilliby', 'Jordan Springs', 'Kangaroo Point', 'Kangy Angy', 'Kanwal', 'Kareela', 'Kariong', 'Katoomba', 'Kearns', 'Kellyville', 'Kellyville Ridge', 'Kemps Creek', 'Kensington', 'Kenthurst', 'Kentlyn', 'Killara', 'Killarney Heights', 'Killarney Vale', 'Killcare', 'Killcare Heights', 'Kincumber', 'Kincumber South', 'Kingfisher Shores', 'Kings Cross', 'Kings Langley', 'Kings Park', 'Kingsford', 'Kingsgrove', 'Kingswood', 'Kirkham', 'Kirrawee', 'Kirribilli', 'Kogarah', 'Kogarah Bay', 'Koolewong', 'Kulnura', 'Kurmond', 'Kurnell', 'Kurraba Point', 'Kurrajong', 'Kurrajong Heights', 'Kurrajong Hills', 'Kyeemagh', 'Kyle Bay', 'La Perouse', 'Lake Haven', 'Lake Munmorah', 'Lakemba', 'Lakesland', 'Lalor Park', 'Lane Cove', 'Lane Cove North', 'Lane Cove West', 'Lansdowne', 'Lansvale', 'Lapstone', 'Laughtondale', 'Lavender Bay', 'Lawson', 'Leets Vale', 'Leichhardt', 'Lemon Tree', 'Leonay', 'Leppington', 'Lethbridge Park', 'Leumeah', 'Leura', 'Lewisham', 'Liberty Grove', 'Lidcombe', 'Lilli Pilli', 'Lilyfield', 'Linden', 'Lindfield', 'Linley Point', 'Lisarow', 'Little Bay', 'Little Jilliby', 'Little Wobby', 'Liverpool', 'Liverpool Westfield', 'Llandilo', 'Loftus', 'Londonderry', 'Long Jetty', 'Long Point', 'Longueville', 'Lovett Bay', 'Lower Macdonald', 'Lower Portland', 'Luddenham', 'Lugarno', 'Lurnea', 'Macmasters Beach', 'Macquarie Fields', 'Macquarie Links', 'Macquarie Park', 'Magenta', 'Maianbar', 'Malabar', 'Maldon', 'Mangrove Creek', 'Mangrove Mountain', 'Manly', 'Manly Vale', 'Mannering Park', 'Maraylya', 'Marayong', 'Mardi', 'Maroota', 'Maroubra', 'Maroubra Junction', 'Marrickville', 'Marsden Park', 'Marsfield', 'Mascot', 'Matcham', 'Matraville', 'Mays Hill', 'McGraths Hill', 'McMahons Point', 'Meadowbank', 'Medlow Bath', 'Megalong', 'Melrose Park', 'Menai', 'Menangle', 'Menangle Park', 'Merrylands', 'Merrylands West', 'Middle Cove', 'Middle Dural', 'Middleton Grange', 'Miller', 'Millers Point', 'Milperra', 'Milsons Passage', 'Milsons Point', 'Minchinbury', 'Minto', 'Minto Heights', 'Miranda', 'Mona Vale', 'Monterey', 'Mooney Mooney', 'Mooney Mooney Creek', 'Moore Park', 'Moorebank', 'Mortdale', 'Mortlake', 'Mosman', 'Mount Annan', 'Mount Colah', 'Mount Druitt', 'Mount Hunter', 'Mount Kuring-gai', 'Mount Lewis', 'Mount Pritchard', 'Mount Riverview', 'Mount Vernon', 'Mount Victoria', 'Mount Wilson', 'Mowbray Park', 'Mulgoa', 'Mulgrave', 'Narara', 'Narellan', 'Narellan Vale', 'Naremburn', 'Narrabeen', 'Narraweena', 'Narwee', 'National Park', 'Nattai', 'Nelson', 'Neutral Bay', 'Newington', 'Newport', 'Newport Beach', 'Newtown', 'Niagara Park', 'Norah Head', 'Noraville', 'Normanhurst', 'North Avoca', 'North Balgowlah', 'North Bondi', 'North Curl Curl', 'North Epping', 'North Gosford', 'North Kellyville', 'North Manly', 'North Narrabeen', 'North Parramatta', 'North Richmond', 'North Rocks', 'North Ryde', 'North St Marys', 'North Strathfield', 'North Sydney', 'North Turramurra', 'North Wahroonga', 'North Willoughby', 'Northbridge', 'Northmead', 'Northwood', 'Norwest', 'Oakdale', 'Oakhurst', 'Oakville', 'Oatlands', 'Oatley', 'Old Guildford', 'Old Toongabbie', 'Oran Park', 'Orangeville', 'Orchard Hills', 'Ourimbah', 'Oxley Park', 'Oyster Bay', 'Pacific Palms', 'Paddington', 'Padstow', 'Padstow Heights', 'Pagewood', 'Palm Beach', 'Palm Grove', 'Panania', 'Parklea', 'Parramatta', 'Patonga', 'Peakhurst', 'Peakhurst Heights', 'Pearl Beach', 'Peats Ridge', 'Pemulwuy', 'Pendle Hill', 'Pennant Hills', 'Penrith', 'Penrith Plaza', 'Penshurst', 'Petersham', 'Pheasants Nest', 'Phegans Bay', 'Phillip Bay', 'Picketts Valley', 'Picnic Point', 'Picton', 'Pitt Town', 'Pleasure Point', 'Plumpton', 'Point Clare', 'Point Frederick', 'Point Piper', 'Port Hacking', 'Potts Hill', 'Potts Point', 'Prairiewood', 'Prestons', 'Pretty Beach', 'Prospect', 'Punchbowl', 'Putney', 'Pymble', 'Pyrmont', 'Quakers Hill', 'Queens Park', 'Queenscliff', 'Raby', 'Ramsgate', 'Ramsgate Beach', 'Randwick', 'Ravensdale', 'Razorback', 'Redfern', 'Regents Park', 'Regentville', 'Revesby', 'Revesby Heights', 'Rhodes', 'Richmond', 'Richmond Lowlands', 'Riverstone', 'Riverview', 'Riverwood', 'Rockdale', 'Rocky Point', 'Rodd Point', 'Rooty Hill', 'Ropes Crossing', 'Rose Bay', 'Rosebery', 'Rosehill', 'Roselands', 'Rosemeadow', 'Roseville', 'Roseville Chase', 'Rossmore', 'Round Corner', 'Rouse Hill', 'Royal National Park', 'Rozelle', 'Ruse', 'Rushcutters Bay', 'Russell Lea', 'Rydalmere', 'Ryde', 'Sackville', 'Sackville North', 'Sadleir', 'San Remo', 'Sandringham', 'Sandy Point', 'Sans Souci', 'Saratoga', 'Schofields', 'Scotland Island', 'Seaforth', 'Sefton', 'Seven Hills', 'Shalvey', 'Shanes Park', 'Shelly Beach', 'Silverdale', 'Silverwater', 'Smeaton Grange', 'Smithfield', 'Somersby', 'South Coogee', 'South Granville', 'South Hurstville', 'South Maroota', 'South Penrith', 'South Turramurra', 'South Wentworthville', 'South Windsor', 'Spencer', 'Spring Farm', 'Springfield', 'Springwood', 'St Albans', 'St Andrews', 'St Clair', 'St Helens Park', 'St Huberts Island', 'St Ives', 'St Ives Chase', 'St Johns Park', 'St Leonards', 'St Marys', 'St Peters', 'Stanhope Gardens', 'Stanmore', 'Strathfield', 'Strathfield South', 'Summer Hill', 'Summerland Point', 'Surry Hills', 'Sutherland', 'Sydenham', 'Sydney (CBD)', 'Sydney Olympic Park', 'Sylvania', 'Sylvania Waters', 'Tacoma', 'Tacoma South', 'Tahmoor', 'Tamarama', 'Taren Point', 'Tascott', 'Telopea', 'Tempe', 'Tennyson', 'Tennyson Point', 'Terrey Hills', 'Terrigal', 'The Entrance', 'The Entrance North', 'The Oaks', 'The Ponds', 'The Rocks', 'The Slopes', 'Theresa Park', 'Thirlmere', 'Thornleigh', 'Toongabbie', 'Toowoon Bay', 'Toukely', 'Toukley', 'Towlers Bay', 'Tregear', 'Tuggerah', 'Tuggerawong', 'Tumbi Umbi', 'Turramurra', 'Turrella', 'Ultimo', 'Umina', 'Umina Beach', 'Upper Colo', 'Valley Heights', 'Varroville', 'Vaucluse', 'Villawood', 'Vineyard', 'Voyager Point', 'Wadalba', 'Wagstaffe', 'Wahroonga', 'Waitara', 'Wakeley', 'Wallacia', 'Wallarah', 'Wamberal', 'Wareemba', 'Warnervale', 'Warragamba', 'Warrawee', 'Warriewood', 'Warrimoo', 'Warwick Farm', 'Watanobbi', 'Waterfall', 'Waterloo', 'Watsons Bay', 'Wattle Grove', 'Waverley', 'Waverton', 'Webbs Creek', 'Wedderburn', 'Wendoree Park', 'Wentworth Falls', 'Wentworth Point', 'Wentworthville', 'Werombi', 'Werrington', 'Werrington County', 'Werrington Downs', 'West Gosford', 'West Hoxton', 'West Pennant Hills', 'West Pymble', 'West Ryde', 'Westleigh', 'Westmead', 'Wetherill Park', 'Whalan', 'Whale Beach', 'Wheeler Heights', 'Wilberforce', 'Wiley Park', 'Willmot', 'Willoughby', 'Willoughby East', 'Wilton', 'Windsor', 'Windsor Downs', 'Winmalee', 'Winston Hills', 'Wisemans Ferry', 'Wolli Creek', 'Wollstonecraft', 'Woodbine', 'Woodcroft', 'Woodford', 'Woodpark', 'Woollahra', 'Woolloomooloo', 'Woolooware', 'Woolwich', 'Woongarrah', 'Woronora', 'Woronora Heights', 'Woy Woy', 'Woy Woy Bay', 'Wyoming', 'Wyong', 'Wyong Creek', 'Wyongah', 'Yagoona', 'Yanderra', 'Yarramalong', 'Yarramundi', 'Yarrawarrah', 'Yattalunga', 'Yellow Rock', 'Yennora', 'Yowie Bay', 'Zetland']
#sydney_suburbs length: 894

city_names = ['melbourne', 'sydney', 'brisbane']

all_locations = melbourne_suburbs + brisbane_suburbs + sydney_suburbs + city_names

consumer_key='gqeaPMcHDSiBP2DDrKIj14oJ4'
consumer_secret='EEcwBh5pUPXbtMzHOzIbowIa3jwlFB929UTAK7xBVvyyUjNAM3'
access_token='1384728716828282886-wYaaBcTYOlOYFoZeMHFSt6A5NCyDb7'
access_token_secret='pVBHMmbRd8iV8Njj8Tuo52wsc8sGZKsPEU2vaRwEqgZ0I'


auth = tweepy.OAuthHandler(consumer_key, consumer_secret)
auth.set_access_token(access_token, access_token_secret)

api = tweepy.API(auth)

tweet_harvest = []

class MyStreamListener(tweepy.StreamListener):

    def on_status(self, status):
        print(status.text)

class StdOutListener(tweepy.StreamListener):
    def on_data(self,data):
        try:
            res = json.loads(data)

            temp_dict = {'tweet id': res['id'], 'user id': res['user']['id'], 'user name': res['user']['name'], 'screen name': res['user']['screen_name'], 'followers count': res['user']['followers_count'], 'user location': res['user']['location'], 'geo': res['geo'], 'created at': res['created_at'], 'text': res['text'], 'truncated': res['truncated']}
            if temp_dict['truncated']:
                temp_dict['full_text']= res['extended_tweet']['full_text']
                #print(res['extended_tweet']['full_text'])
            #else:
                #print(res['text'])


            #print(temp_dict)
            locator = geopy.Nominatim(user_agent='myGeocoder')
            #print('Found a tweet')
            
            if temp_dict['user location']:
                location = locator.geocode(temp_dict['user location'], viewbox=[(-36,140),(-37,148)], bounded=True)
                #print(temp_dict['user location'])
                if not location:
                    a = 1 #do nothing
                    #print("Could not find location")
                    #print()
                else:
                    print('user listed location: ' + temp_dict['user location'])
                    print(location)
                    print(location.latitude)
                    print(location.longitude)
                    print()

            tweet_harvest.append(temp_dict)
            return True
        except KeyboardInterrupt:
            print('Interrupted')
            try:
                sys.exit(0)
            except SystemExit:
                os._exit(0)
        except:
            print('there was an error')
    def on_error(self, status):
        if status == 420:
            print(status)
            sleep(1200) #sleeps for 20min
            return True
        
if __name__=='__main__':
    l = StdOutListener()
    auth = tweepy.OAuthHandler(consumer_key, consumer_secret)
    auth.set_access_token(access_token, access_token_secret)

    stream = tweepy.Stream(auth, l)
    #stream.filter(track=['melbourne'],languages=['en','english']) #The track parameter is an array of search terms to stream. not case sensitive. 
    #stream.filter(locations=[-37.602399860710925, 144.72380963536258, -38.12029202662645, 145.46081873904296]) #Rubbish - produces nearly no tweets
    #trck_list = ['South Yarra', 'Carlton', 'Brunswick', 'Port Melbourne', 'Parkville', 'Fitzroy', 'South Melbourne', 'Prahran', 'Toorak']
    #trck_list = ['melbourne']
    #trck_list = [Abbotsford, Aberfeldie, Airport West, Albanvale, Albert Park, Albion, Alphington, Altona Meadows, Altona North, Altona, Ardeer, Armadale, Arthurs Seat, Ascot Vale, Ashburton, Ashwood, Aspendale, Aspendale Gardens, Attwood, Auburn, Aurora, Avondale Heights, Avonsleigh, Balaclava, Balwyn, Balwyn North, Bangholme, Baxter, Bayswater, Bayswater North, Beaconsfield, Beaumaris, Belgrave, Belgrave Heights, Belgrave South, Bellfield, Bennettswood, Bentleigh, Bentleigh East, Berwick, Bittern, Black Rock, Blackburn, Blackburn North, Blackburn South, Blairgowrie, Bonbeach, Boronia, Box Hill, Box Hill North, Box Hill South, Braeside, Braybrook, Briar Hill, Brighton, Brighton East, Broadmeadows, Brookfield, Brooklyn, Brunswick, Brunswick East, Brunswick West, Bulla, Bulleen, Bundoora, Burnley, Burnside, Burnside Heights, Burwood, Burwood East, Cairnlea, Calder Park, Camberwell, Campbellfield, Canterbury, Carlton North, Carlton, Carnegie, Caroline Springs, Carrum, Carrum Downs, Caulfield, Caulfield East, Caulfield North, Caulfield South, Chadstone, Chelsea, Chelsea Heights, Cheltenham, Chirnside Park, Clarinda, Clayton, Clayton South, Clematis, Clifton Hill, Coburg, Coburg North, Cocoroc, Coldstream, Collingwood, Coolaroo, Craigieburn, Cranbourne, Cranbourne East, Cranbourne North, Cranbourne South, Cranbourne West, Cremorne, Crib Point, Croydon, Croydon Hills, Croydon North, Croydon South, Dallas, Dandenong, Dandenong North, Dandenong South, Deer Park, Delahey, Derrimut, Diamond Creek, Dingley Village, Docklands, Doncaster, Doncaster East, Donvale, Doreen, Doveton, Dromana, Eaglemont, East Melbourne, Edithvale, Elsternwick, Eltham, Eltham North, Elwood, Emerald, Endeavour Hills, Epping, Essendon Fields, Essendon North, Essendon West, Essendon, Eumemmerring, Fairfield, Fawkner, Ferntree Gully, Ferny Creek, Fitzroy, Fitzroy North, Flemington, Footscray, Forest Hill, Frankston, Frankston North, Frankston South, Gardenvale, Gladstone Park, Glen Huntly, Glen Iris, Glen Waverley, Glenroy, Gowanbrae, Greensborough, Greenvale Lakes, Greenvale, Guys Hill, Hadfield, Hallam, Hampton, Hampton East, Hampton Park, Harkaway, Hawthorn, Hawthorn East, Heatherdale, Heatherton, Heathmont, Heidelberg, Heidelberg Heights, Heidelberg West, Highett, Hillside, Hoppers Crossing, Houston, Hughesdale, Huntingdale, Hurstbridge, Ivanhoe, Ivanhoe East, Jacana, Junction Village, Kallista, Kalorama, Karingal, Kealba, Keilor, Keilor Downs, Keilor East, Keilor Lodge, Keilor North, Keilor Park, Kensington, Kerrimuir, Kew, Kew East, Keysborough, Kilsyth, Kilsyth South, Kings Park, Kingsbury, Kingsville, Knoxfield, Kooyong, Kurunjang, Laburnum, Lalor, Langwarrin, Langwarrin South, Laverton, Laverton North, Lilydale, Lower Plenty, Lynbrook, Lyndhurst, Lysterfield, Lysterfield South, Macclesfield, McCrae, McKinnon, Macleod, Maidstone, Malvern, Malvern East, Maribyrnong, Meadow Heights, Melbourne Airport, Melton (suburb), Melton South, Melton West, Mentone, Menzies Creek, Mernda, Mickleham, Middle Park, Milgate Park Estate, Mill Park, Mitcham, Monbulk, Mont Albert, Mont Albert North, Montmorency, Montrose, Moonee Ponds, Moorabbin Airport, Moorabbin, Moorooduc, Mooroolbark, Mordialloc, Mornington, Mount Dandenong, Mount Eliza, Mount Evelyn, Mount Martha, Mount Waverley, Mulgrave, Narre Warren East, Narre Warren North, Narre Warren South, Narre Warren, Newport, Niddrie, Noble Park, Noble Park North, North Melbourne, North Richmond, North Warrandyte, Northcote, Norwood, Notting Hill, Nunawading, Oak Park, Oaklands Junction, Oakleigh, Oakleigh East, Oakleigh South, Olinda, Olivers Hill, Ormond, Pakenham, Panton Hill, Park Orchards, Parkdale, Parkville, Pascoe Vale South, Pascoe Vale, The Patch, Patterson Lakes, Pennydale, Plenty, Point Cook, Port Melbourne, Portsea, Prahran, Preston, Princes Hill, Ravenhall, Research, Reservoir, Richmond, Ringwood, Ringwood East, Ringwood North, Ripponlea, Rockbank, Rosanna, Rosebud, Rosebud West, Rowville, Roxburgh Park, Rye, Safety Beach, St Albans, St Helena, St Kilda, St Kilda East, St Kilda West, Sandhurst, Sandringham, Sassafras, Scoresby, Seabrook, Seaford, Seaholme, Seddon, Selby, Seville, Sherbrooke, Skye, Somerton, Sorrento, South Kingsville, South Melbourne, South Morang, South Wharf, South Yarra, Southbank, Spotswood, Springvale, Springvale South, Strathmore, Strathmore Heights, Sunbury, Sunshine, Sunshine North, Sunshine West, Surrey Hills, Sydenham, Syndal, Tally Ho, Tarneit, Taylors Hill, Taylors Lakes, Tecoma, Templestowe, Templestowe Lower, The Basin, Thomastown, Thornbury, Toorak, Tootgarook, Tottenham, Travancore, Tremont, Truganina, Tullamarine, Upfield, Upper Ferntree Gully, Upwey, Vermont, Vermont South, Viewbank, Wantirna, Wantirna South, Warrandyte, Warrandyte South, Warranwood, Waterways, Watsonia, Watsonia North, Wattle Glen, Waverley Park, Werribee, Werribee South, West Footscray, West Melbourne, Westgarth, Westmeadows, Wheelers Hill, Wildwood, Williams Landing, Williamstown, Williamstown North, Windsor, Wonga Park, Wyndham Vale, Yallambie, Yarrambat, Yarraville, Yuroke]
    #trck_list = ['Abbotsford', 'Aberfeldie', 'Airport West', 'Albanvale', 'Albert Park', 'Albion', 'Alphington', 'Altona Meadows', 'Altona North', 'Altona', 'Ardeer', 'Armadale', 'Arthurs Seat', 'Ascot Vale', 'Ashburton', 'Ashwood', 'Aspendale', 'Aspendale Gardens', 'Attwood','melbourne']

    #stream.filter(track=trck_list,languages=['en','english']) #The track parameter is an array of search terms to stream. not case sensitive. 
    #maximum arguments to track is 400
    stream.filter(track=melbourne_suburbs[0:398],languages=['en','english']) #The track parameter is an array of search terms to stream. not case sensitive. 
